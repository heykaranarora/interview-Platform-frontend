{"ast":null,"code":"import{useState,useRef,useEffect}from\"react\";import Navbar from\"./Navbar\";import{toast}from\"react-toastify\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Recorder=()=>{const[questions,setQuestions]=useState([]);const[currentQuestionIndex,setCurrentQuestionIndex]=useState(0);const[assessmentStarted,setAssessmentStarted]=useState(false);const[recording,setRecording]=useState(false);const[mediaRecorder,setMediaRecorder]=useState(null);const[videoBlob,setVideoBlob]=useState(null);const[videoUrl,setVideoUrl]=useState(null);const[isUploading,setIsUploading]=useState(false);const[uploadedUrl,setUploadedUrl]=useState(null);const[countdown,setCountdown]=useState(0);const[shouldStartRecording,setShouldStartRecording]=useState(false);const videoRef=useRef(null);const chunks=useRef([]);useEffect(()=>{fetchQuestions();},[]);useEffect(()=>{if(countdown>0){const timer=setTimeout(()=>setCountdown(prev=>prev-1),1000);return()=>clearTimeout(timer);}else if(countdown===0&&shouldStartRecording){initiateRecording();setShouldStartRecording(false);}},[countdown,shouldStartRecording]);const fetchQuestions=async()=>{try{const res=await fetch(\"https://interview-platform-backend-xp3r.onrender.com/api/v1/video/random-questions\",{method:\"GET\",credentials:\"include\",headers:{\"Content-Type\":\"application/json\"}});const data=await res.json();const fiveQuestions=data.questions.slice(0,5);setQuestions(fiveQuestions);}catch(error){console.error(\"Error fetching questions:\",error);}};const initiateRecording=async()=>{try{const stream=await navigator.mediaDevices.getUserMedia({video:true,audio:true});if(videoRef.current){videoRef.current.srcObject=stream;}const recorder=new MediaRecorder(stream,{mimeType:\"video/webm;codecs=vp8,opus\"});recorder.ondataavailable=event=>{if(event.data.size>0)chunks.current.push(event.data);};recorder.onstop=()=>{const blob=new Blob(chunks.current,{type:\"video/webm\"});setVideoBlob(blob);setVideoUrl(URL.createObjectURL(blob));chunks.current=[];};recorder.start();setMediaRecorder(recorder);setRecording(true);}catch(error){console.error(\"Error accessing media devices:\",error);}};const stopRecording=()=>{var _videoRef$current;if(mediaRecorder&&mediaRecorder.state!==\"inactive\"){mediaRecorder.stop();}const stream=(_videoRef$current=videoRef.current)===null||_videoRef$current===void 0?void 0:_videoRef$current.srcObject;if(stream){stream.getTracks().forEach(track=>track.stop());videoRef.current.srcObject=null;}setRecording(false);setMediaRecorder(null);};const discardVideo=()=>{if(videoUrl){URL.revokeObjectURL(videoUrl);setVideoUrl(null);setVideoBlob(null);setUploadedUrl(null);}};const saveVideo=async()=>{if(!videoBlob)return;setIsUploading(true);const formData=new FormData();formData.append(\"video\",videoBlob);try{const response=await fetch(\"https://interview-platform-backend-xp3r.onrender.com/api/v1/video/upload\",{method:\"POST\",credentials:\"include\",body:formData});if(!response.ok)throw new Error(\"Upload failed\");const data=await response.json();setUploadedUrl(data.url);setVideoUrl(null);setVideoBlob(null);setUploadedUrl(null);if(currentQuestionIndex<questions.length-1){setCurrentQuestionIndex(prev=>prev+1);}else{toast.success(\"All questions answered! Assessment completed.\");setAssessmentStarted(false);}}catch(err){console.error(\"Upload error:\",err);}finally{setIsUploading(false);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center p-6 max-w-3xl mx-auto my-10 bg-gradient-to-b from-gray-50 to-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md bg-white rounded-xl shadow-md mb-6 p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-center text-gray-800 mb-4\",children:\"Video Interview Recorder\"}),!assessmentStarted?questions.length>0&&currentQuestionIndex>=questions.length?/*#__PURE__*/_jsx(\"div\",{className:\"text-green-600 font-semibold text-xl mt-10 text-center\",children:\"\\uD83C\\uDF89 You have answered all the questions!\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center space-y-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 text-center\",children:\"Do you want to start the assessment?\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setAssessmentStarted(true);setCurrentQuestionIndex(0);},className:\"px-4 py-2 bg-gray-800 text-white rounded hover:bg-gray-700\",children:\"Start Assessment\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"aspect-video bg-black w-full relative mb-4\",children:[recording&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-3 right-3 text-white bg-red-600 text-xs px-2 py-1 rounded-full animate-pulse\",children:\"REC\"}),/*#__PURE__*/_jsx(\"video\",{ref:videoRef,autoPlay:true,muted:true,playsInline:true,className:\"w-full h-full \".concat(recording?\"block\":\"hidden\")}),!recording&&videoUrl&&/*#__PURE__*/_jsx(\"video\",{src:videoUrl,controls:true,className:\"w-full h-full object-contain\"}),!recording&&!videoUrl&&/*#__PURE__*/_jsx(\"div\",{className:\"h-full flex items-center justify-center text-gray-400 text-sm\",children:\"Camera preview will appear here\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center space-y-3 mb-4\",children:recording?/*#__PURE__*/_jsx(\"button\",{onClick:stopRecording,className:\"px-4 py-2 bg-red-600 text-white rounded shadow hover:bg-red-700\",children:\"Stop Recording\"}):countdown>0?/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl text-gray-700 font-bold\",children:countdown}):videoUrl?/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:discardVideo,className:\"px-4 py-2 border rounded text-gray-600 hover:bg-gray-50\",children:\"Discard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setCountdown(3);setShouldStartRecording(true);},className:\"px-4 py-2 border border-blue-600 text-blue-600 rounded hover:bg-blue-50\",children:\"Record Again\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setCountdown(3);setShouldStartRecording(true);},className:\"px-4 py-2 bg-green-600 text-white rounded shadow hover:bg-green-700\",children:\"Start Recording\"})}),videoUrl&&!recording&&/*#__PURE__*/_jsx(\"div\",{className:\"w-full\",children:/*#__PURE__*/_jsx(\"button\",{onClick:saveVideo,disabled:isUploading,className:\"w-full px-4 py-2 text-white font-medium rounded \".concat(isUploading?\"bg-blue-300 cursor-not-allowed\":\"bg-blue-600 hover:bg-blue-700\"),children:isUploading?\"Uploading...\":\"Upload Answer\"})}),questions.length>0&&currentQuestionIndex<questions.length&&/*#__PURE__*/_jsxs(\"div\",{className:\"w-full mt-6 bg-white rounded-xl shadow-md p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold text-gray-800 mb-2\",children:[\"Question \",currentQuestionIndex+1,\" of \",questions.length]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:questions[currentQuestionIndex].question})]})]})]})})]});};export default Recorder;","map":{"version":3,"names":["useState","useRef","useEffect","Navbar","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Recorder","questions","setQuestions","currentQuestionIndex","setCurrentQuestionIndex","assessmentStarted","setAssessmentStarted","recording","setRecording","mediaRecorder","setMediaRecorder","videoBlob","setVideoBlob","videoUrl","setVideoUrl","isUploading","setIsUploading","uploadedUrl","setUploadedUrl","countdown","setCountdown","shouldStartRecording","setShouldStartRecording","videoRef","chunks","fetchQuestions","timer","setTimeout","prev","clearTimeout","initiateRecording","res","fetch","method","credentials","headers","data","json","fiveQuestions","slice","error","console","stream","navigator","mediaDevices","getUserMedia","video","audio","current","srcObject","recorder","MediaRecorder","mimeType","ondataavailable","event","size","push","onstop","blob","Blob","type","URL","createObjectURL","start","stopRecording","_videoRef$current","state","stop","getTracks","forEach","track","discardVideo","revokeObjectURL","saveVideo","formData","FormData","append","response","body","ok","Error","url","length","success","err","children","className","onClick","ref","autoPlay","muted","playsInline","concat","src","controls","disabled","question"],"sources":["C:/Users/Lenovo/OneDrive/Desktop/Interview Prep mern/frontend/src/components/Recorder.jsx"],"sourcesContent":["import { useState, useRef, useEffect } from \"react\";\r\nimport Navbar from \"./Navbar\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst Recorder = () => {\r\n  const [questions, setQuestions] = useState([]);\r\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\r\n  const [assessmentStarted, setAssessmentStarted] = useState(false);\r\n\r\n  const [recording, setRecording] = useState(false);\r\n  const [mediaRecorder, setMediaRecorder] = useState(null);\r\n  const [videoBlob, setVideoBlob] = useState(null);\r\n  const [videoUrl, setVideoUrl] = useState(null);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [uploadedUrl, setUploadedUrl] = useState(null);\r\n  const [countdown, setCountdown] = useState(0);\r\n  const [shouldStartRecording, setShouldStartRecording] = useState(false);\r\n\r\n  const videoRef = useRef(null);\r\n  const chunks = useRef([]);\r\n\r\n  useEffect(() => {\r\n    fetchQuestions();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (countdown > 0) {\r\n      const timer = setTimeout(() => setCountdown(prev => prev - 1), 1000);\r\n      return () => clearTimeout(timer);\r\n    } else if (countdown === 0 && shouldStartRecording) {\r\n      initiateRecording();\r\n      setShouldStartRecording(false);\r\n    }\r\n  }, [countdown, shouldStartRecording]);\r\n\r\n  const fetchQuestions = async () => {\r\n    try {\r\n      const res = await fetch(\"https://interview-platform-backend-xp3r.onrender.com/api/v1/video/random-questions\",{\r\n        method: \"GET\",\r\n        credentials: \"include\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n      const data = await res.json();\r\n      const fiveQuestions = data.questions.slice(0, 5);\r\n      setQuestions(fiveQuestions);\r\n    } catch (error) {\r\n      console.error(\"Error fetching questions:\", error);\r\n    }\r\n  };\r\n\r\n  const initiateRecording = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({\r\n        video: true,\r\n        audio: true,\r\n      });\r\n\r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = stream;\r\n      }\r\n\r\n      const recorder = new MediaRecorder(stream, {\r\n        mimeType: \"video/webm;codecs=vp8,opus\",\r\n      });\r\n\r\n      recorder.ondataavailable = (event) => {\r\n        if (event.data.size > 0) chunks.current.push(event.data);\r\n      };\r\n\r\n      recorder.onstop = () => {\r\n        const blob = new Blob(chunks.current, { type: \"video/webm\" });\r\n        setVideoBlob(blob);\r\n        setVideoUrl(URL.createObjectURL(blob));\r\n        chunks.current = [];\r\n      };\r\n\r\n      recorder.start();\r\n      setMediaRecorder(recorder);\r\n      setRecording(true);\r\n    } catch (error) {\r\n      console.error(\"Error accessing media devices:\", error);\r\n    }\r\n  };\r\n\r\n  const stopRecording = () => {\r\n    if (mediaRecorder && mediaRecorder.state !== \"inactive\") {\r\n      mediaRecorder.stop();\r\n    }\r\n\r\n    const stream = videoRef.current?.srcObject;\r\n    if (stream) {\r\n      stream.getTracks().forEach((track) => track.stop());\r\n      videoRef.current.srcObject = null;\r\n    }\r\n\r\n    setRecording(false);\r\n    setMediaRecorder(null);\r\n  };\r\n\r\n  const discardVideo = () => {\r\n    if (videoUrl) {\r\n      URL.revokeObjectURL(videoUrl);\r\n      setVideoUrl(null);\r\n      setVideoBlob(null);\r\n      setUploadedUrl(null);\r\n    }\r\n  };\r\n\r\n  const saveVideo = async () => {\r\n    if (!videoBlob) return;\r\n    setIsUploading(true);\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"video\", videoBlob);\r\n\r\n    try {\r\n      const response = await fetch(\"https://interview-platform-backend-xp3r.onrender.com/api/v1/video/upload\", {\r\n        method: \"POST\",\r\n        credentials: \"include\",\r\n        body: formData,\r\n      });\r\n\r\n      if (!response.ok) throw new Error(\"Upload failed\");\r\n\r\n      const data = await response.json();\r\n      setUploadedUrl(data.url);\r\n      setVideoUrl(null);\r\n      setVideoBlob(null);\r\n      setUploadedUrl(null);\r\n\r\n      if (currentQuestionIndex < questions.length - 1) {\r\n        setCurrentQuestionIndex((prev) => prev + 1);\r\n      } else {\r\n        toast.success(\"All questions answered! Assessment completed.\");\r\n        setAssessmentStarted(false);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Upload error:\", err);\r\n    } finally {\r\n      setIsUploading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n    <Navbar/>\r\n    <div className=\"flex flex-col items-center p-6 max-w-3xl mx-auto my-10 bg-gradient-to-b from-gray-50 to-gray-100\">\r\n      <div className=\"w-full max-w-md bg-white rounded-xl shadow-md mb-6 p-6\">\r\n        <h1 className=\"text-xl font-bold text-center text-gray-800 mb-4\">\r\n          Video Interview Recorder\r\n        </h1>\r\n\r\n        {!assessmentStarted ? (\r\n          questions.length > 0 && currentQuestionIndex >= questions.length ? (\r\n            <div className=\"text-green-600 font-semibold text-xl mt-10 text-center\">\r\n              ðŸŽ‰ You have answered all the questions!\r\n            </div>\r\n          ) : (\r\n            <div className=\"flex flex-col items-center space-y-4\">\r\n              <p className=\"text-gray-700 text-center\">\r\n                Do you want to start the assessment?\r\n              </p>\r\n              <button\r\n                onClick={() => {\r\n                  setAssessmentStarted(true);\r\n                  setCurrentQuestionIndex(0);\r\n                }}\r\n                className=\"px-4 py-2 bg-gray-800 text-white rounded hover:bg-gray-700\"\r\n              >\r\n                Start Assessment\r\n              </button>\r\n            </div>\r\n          )\r\n        ) : (\r\n          <>\r\n            <div className=\"aspect-video bg-black w-full relative mb-4\">\r\n              {recording && (\r\n                <div className=\"absolute top-3 right-3 text-white bg-red-600 text-xs px-2 py-1 rounded-full animate-pulse\">\r\n                  REC\r\n                </div>\r\n              )}\r\n              <video\r\n                ref={videoRef}\r\n                autoPlay\r\n                muted\r\n                playsInline\r\n                className={`w-full h-full ${recording ? \"block\" : \"hidden\"}`}\r\n              />\r\n              {!recording && videoUrl && (\r\n                <video\r\n                  src={videoUrl}\r\n                  controls\r\n                  className=\"w-full h-full object-contain\"\r\n                />\r\n              )}\r\n              {!recording && !videoUrl && (\r\n                <div className=\"h-full flex items-center justify-center text-gray-400 text-sm\">\r\n                  Camera preview will appear here\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"flex flex-col items-center space-y-3 mb-4\">\r\n              {recording ? (\r\n                <button\r\n                  onClick={stopRecording}\r\n                  className=\"px-4 py-2 bg-red-600 text-white rounded shadow hover:bg-red-700\"\r\n                >\r\n                  Stop Recording\r\n                </button>\r\n              ) : countdown > 0 ? (\r\n                <p className=\"text-3xl text-gray-700 font-bold\">{countdown}</p>\r\n              ) : videoUrl ? (\r\n                <div className=\"flex space-x-3\">\r\n                  <button\r\n                    onClick={discardVideo}\r\n                    className=\"px-4 py-2 border rounded text-gray-600 hover:bg-gray-50\"\r\n                  >\r\n                    Discard\r\n                  </button>\r\n                  <button\r\n                    onClick={() => {\r\n                      setCountdown(3);\r\n                      setShouldStartRecording(true);\r\n                    }}\r\n                    className=\"px-4 py-2 border border-blue-600 text-blue-600 rounded hover:bg-blue-50\"\r\n                  >\r\n                    Record Again\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <button\r\n                  onClick={() => {\r\n                    setCountdown(3);\r\n                    setShouldStartRecording(true);\r\n                  }}\r\n                  className=\"px-4 py-2 bg-green-600 text-white rounded shadow hover:bg-green-700\"\r\n                >\r\n                  Start Recording\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            {videoUrl && !recording && (\r\n              <div className=\"w-full\">\r\n                <button\r\n                  onClick={saveVideo}\r\n                  disabled={isUploading}\r\n                  className={`w-full px-4 py-2 text-white font-medium rounded ${\r\n                    isUploading\r\n                      ? \"bg-blue-300 cursor-not-allowed\"\r\n                      : \"bg-blue-600 hover:bg-blue-700\"\r\n                  }`}\r\n                >\r\n                  {isUploading ? \"Uploading...\" : \"Upload Answer\"}\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            {questions.length > 0 && currentQuestionIndex < questions.length && (\r\n              <div className=\"w-full mt-6 bg-white rounded-xl shadow-md p-6 mb-6\">\r\n                <h2 className=\"text-lg font-semibold text-gray-800 mb-2\">\r\n                  Question {currentQuestionIndex + 1} of {questions.length}\r\n                </h2>\r\n                <p className=\"text-gray-700\">\r\n                  {questions[currentQuestionIndex].question}\r\n                </p>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Recorder;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}